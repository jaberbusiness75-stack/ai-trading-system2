import logging
from datetime import datetime, timedelta
import requests
import json

logger = logging.getLogger(__name__)

class EconomicCalendar:
    def __init__(self):
        self.base_url = "https://economic-calendar.tradingview.com/events"
        logger.info("โ ุชู ุชููุฆุฉ ุงูุชูููู ุงูุงูุชุตุงุฏู")
    
    def get_today_events(self):
        """ุงูุญุตูู ุนูู ุงูุฃุญุฏุงุซ ุงูุงูุชุตุงุฏูุฉ ููููู"""
        try:
            # ุจูุงูุงุช ุงูุชุฑุงุถูุฉ ููุฃุญุฏุงุซ ุงูุงูุชุตุงุฏูุฉ
            today_events = [
                "๐บ๐ธ ุงูููุงูุงุช ุงููุชุญุฏุฉ - ูุคุดุฑ ุฃุณุนุงุฑ ุงููุณุชููู (CPI)",
                "๐ช๐บ ููุทูุฉ ุงูููุฑู - ุจูุงูุงุช ุงูุจุทุงูุฉ",
                "๐ฌ๐ง ุงูููููุฉ ุงููุชุญุฏุฉ - ูุฑุงุฑุงุช ุงูุจูู ุงููุฑูุฒู",
                "๐ฏ๐ต ุงููุงุจุงู - ูุคุดุฑ ุซูุฉ ุงููุณุชููู",
                "๐จ๐ฆ ููุฏุง - ุจูุงูุงุช ุงูุชูุธูู"
            ]
            
            logger.info(f"ุชู ุฌูุจ {len(today_events)} ุญุฏุซ ุงูุชุตุงุฏู")
            return today_events
                
        except Exception as e:
            logger.error(f"ุฎุทุฃ ูู ุฌูุจ ุงูุชูููู ุงูุงูุชุตุงุฏู: {e}")
            return ["ุชุนุฐุฑ ุฌูุจ ุงูุฃุญุฏุงุซ ุงูุงูุชุตุงุฏูุฉ ูู ุงูููุช ุงูุญุงูู"]
    
    def get_week_events(self):
        """ุงูุญุตูู ุนูู ุฃุญุฏุงุซ ุงูุฃุณุจูุน"""
        try:
            week_events = [
                "ุงูุฅุซููู: ุจูุงูุงุช ุงูุชุตููุน PMI",
                "ุงูุซูุงุซุงุก: ูุฑุงุฑุงุช ุงููุงุฆุฏุฉ ููุจูู ุงูุงุญุชูุงุทู ุงูุฃุณุชุฑุงูู",
                "ุงูุฃุฑุจุนุงุก: ูุคุดุฑ ุงูุชุถุฎู ูู ุงูููููุฉ ุงููุชุญุฏุฉ", 
                "ุงูุฎููุณ: ุจูุงูุงุช ุงูุจุทุงูุฉ ูู ุงูููุงูุงุช ุงููุชุญุฏุฉ",
                "ุงูุฌูุนุฉ: ูุคุดุฑ ุซูุฉ ุงููุณุชููู ูู ููุทูุฉ ุงูููุฑู"
            ]
            return week_events
            
        except Exception as e:
            logger.error(f"ุฎุทุฃ ูู ุฌูุจ ุฃุญุฏุงุซ ุงูุฃุณุจูุน: {e}")
            return []